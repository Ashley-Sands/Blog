<script src="./includes/js/mdParser.js"></script>
<script src="./includes/js/common.js"></script>
<script>

var loadPage = "./includes/js/mdParse.md";
var getString = window.location.search;
var getData = [...getString.matchAll( /(?:\&|\?){1}([a-zA-Z0-9-_]+)=([a-zA-Z0-9-_/.]+)/g )];  //[ full match, key, value ]

for ( var i = 0; i < getData.length; i++ )
{   console.log(getData[i][1] + " :: " + getData[i][2]);
    if ( getData[i][1].toLowerCase() == "file" && getData[i].length > 2 )
        loadPage = getData[i][2];
}

showRawMD = function(jsonStr, requestName)
{
    /*document.write( escape(jsonStr).replace(/%20/, "&nbsp;") );*/
    document.getElementById("output").innerHTML = jsonStr.replace(/</g, "&lt;")
                                                         .replace(/>/g, "&gt;")
                                                         .replace(/ /g, "&nbsp;")
                                                         .replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;")
                                                         .replace(/\n/g, "<br />");
    
    md = new MarkDownParse();
    document.getElementById("output-1").innerHTML = md.parse( jsonStr )

}

Common.LoadContent(loadPage, showRawMD);
//Common.LoadContent("./includes/js/mdParse.md", showRawMD);
</script>
<div style=" display: inline-block; width: 100%;">
    <div style="position: relative; box-sizing: border-box; padding: 2% 5% 2% 2%; margin: 0px; border-right: 5px black solid; width: 45%; display: inline-block; vertical-align: top;">
        <hr />
        <h3>Original MD File.</h3>
        <hr /><br />
        <code id="output" style="box-sizing: border-box; width: 40%; white-space: normal; overflow-wrap: break-word;"></code>
    </div>
    <div style="box-sizing: border-box; padding: 2% 5% 2% 5%; width: 45%; margin: 0px; display: inline-block; border-left: 5px black solid; vertical-align: top;">
        <hr />
        <h3>Parsed md output as HTML</h3>
        <hr /><br />
        <code id="output-1" ></code>
    </div>
</div>